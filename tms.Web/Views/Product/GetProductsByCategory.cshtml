@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer localizer
@{
    ViewData["Title"] = @localizer["Title"];
}


@model ProductListDto

<link href="~/css/cstm.css" rel="stylesheet" />
<link href="~/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/css/style.css" rel="stylesheet" />
<link href="~/css/elegant-icons.css" rel="stylesheet" />
<link href="~/css/font-awesome.min.css" rel="stylesheet" />
<link href="~/css/jquery-ui.min.css" rel="stylesheet" />
<link href="~/css/nice-select.css" rel="stylesheet" />
<link href="~/css/owl.carousel.min.css" rel="stylesheet" />
<link href="~/css/site.css" rel="stylesheet" />
<link href="~/css/slicknav.min.css" rel="stylesheet" />

<section class="featured spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <h2>@localizer["Main_desc"]</h2>
                </div>

            </div>
        </div>
        <div class="row featured__filter">

            @if(Model.Products.Count == 0)
            {
                <span>
                    Məhsul tapılmadı
                </span>
            }
            else
            {
                @foreach (var item in Model.Products)
                {
                    <div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat">
                        <div class="featured__item">
                            <div class="img-desc">
                                <img src="~/@item.Image.FileName">
                                <div class="desc">


                                    @switch (ViewBag.CurrentLang)
                                    {
                                        case "az":
                                            @item.About_AZ
                                            break;
                                        case "en":
                                            @item.About_EN
                                            break;
                                        case "ru":
                                            @item.About_RU
                                            break;

                                    }


                                </div>

                            </div>
                            <div class="featured__item__text">
                                <h6><a asp-controller="Product" asp-action="GetProduct" asp-route-id="@item.Id">@item.Name </a></h6>
                                <h5>@item.Price</h5>
                            </div>
                        </div>
                    </div>


                }
            }
            





        </div>
    </div>


    <ul class="pagination">
        @if (Model.ShowPrevious)
        {
            <li class="page-item">
                <a class="page-link" asp-route-currentPage="@(Model.CurrentPage-1)" asp-route-pageSize="@Model.PageSize">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
        }

        @if (Model.TotalPages > 5)
        {
            <li class="page-item">
                <a class="page-link @(1 == Model.CurrentPage ? "activ" : "")" asp-route-currentPage="1" asp-route-pageSize="@Model.PageSize"> 1 </a>
            </li>
            <li class="page-item">
                <a class="page-link"> ... </a>
            </li>

            @if (Model.CurrentPage != 1 && Model.CurrentPage != Model.TotalPages)
            {
                <li class="page-item">
                    <a class="page-link activ" asp-route-currentPage="@Model.CurrentPage" asp-route-pageSize="@Model.PageSize"> @Model.CurrentPage </a>
                </li>
                <li class="page-item">
                    <a class="page-link"> ... </a>
                </li>
            }
            <li class="page-item">
                <a class="page-link @(Model.TotalPages == Model.CurrentPage ? "activ" : "")" asp-route-currentPage="@Model.TotalPages" asp-route-pageSize="@Model.PageSize"> @Model.TotalPages </a>
            </li>
        }
        else
        {
            @for (int i = 1; i <= Model.TotalPages; i++)
            {
                <li class="page-item">
                    <a class="page-link @(i == Model.CurrentPage ? "activ" : "")" asp-route-currentPage="@i" asp-route-pageSize="@Model.PageSize"> @i </a>
                </li>
            }
        }



        @if (Model.ShowNext)
        {
            <li class="page-item">
                <a class="page-link" asp-route-currentPage="@(Model.CurrentPage+1)" asp-route-pageSize="@Model.PageSize">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        }
    </ul>
</section>

<script src="~/js/bootstrap.min.js"></script>
<script src="~/js/jquery.nice-select.min.js"></script>
<script src="~/js/jquery.slicknav.js"></script>
<script src="~/js/jquery-3.3.1.min.js"></script>
<script src="~/js/jquery-ui.min.js"></script>
<script src="~/js/main.js"></script>
<script src="~/js/mixitup.min.js"></script>
<script src="~/js/owl.carousel.min.js"></script>
<script src="~/js/site.js"></script>