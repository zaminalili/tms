@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer localizer
@{
    ViewData["Title"] = @localizer["Title"];
}


@model ProductListDto



<section class="categories">
    <div class="container">
        <div class="row">
            <div class="categories__slider owl-carousel">
                <div class="col-lg-3">
                    <div class="categories__item set-bg" data-setbg="img/categories/cat-1.jpg">
                        <h5><a href="#">@localizer["Heaters"]</a></h5>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="categories__item set-bg" data-setbg="img/categories/cat-2.jpg">
                        <h5><a href="#">@localizer["Radiators"]</a></h5>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="categories__item set-bg" data-setbg="img/categories/cat-3.jpg">
                        <h5><a href="#">@localizer["Water_heaters"]</a></h5>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="categories__item set-bg" data-setbg="img/categories/cat-4.jpg">
                        <h5><a href="#">@localizer["Pipes_fittings"]</a></h5>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="categories__item set-bg" data-setbg="img/categories/cat-5.jpg">
                        <h5><a href="#">@localizer["Pumps"]</a></h5>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="categories__item set-bg" data-setbg="img/categories/cat-5.jpg">
                        <h5><a href="#">@localizer["Air_conditioning_equipment"]</a></h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="featured spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <h2>@localizer["Main_desc"]</h2>
                </div>

            </div>
        </div>
        <div class="row featured__filter">

            @foreach (var item in Model.Products)
            {
                <div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat">
                    <div class="featured__item">
                        <div class="img-desc">
                            <img src="~/@item.Image.FileName">
                            <div class="desc">


                                @switch (ViewBag.CurrentLang)
                                {
                                    case "az":
                                        @item.About_AZ
                                        break;
                                    case "en":
                                        @item.About_EN
                                        break;
                                    case "ru":
                                        @item.About_RU
                                        break;
                                
                                }   
                                
                            </div>
                            
                        </div>
                        <div class="featured__item__text">
                            <h6><a asp-controller="Product" asp-action="GetProduct" asp-route-id="@item.Id">@item.Name </a></h6>
                            <h5>@item.Price</h5>
                        </div>
                    </div>
                </div>

                
            }

            

            

        </div>
    </div>


    <ul class="pagination">
        @if (Model.ShowPrevious)
        {
            <li class="page-item">
                <a class="page-link" asp-route-currentPage="@(Model.CurrentPage-1)" asp-route-pageSize="@Model.PageSize">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
        }

        @if (Model.TotalPages > 5)
        {
            <li class="page-item">
                <a class="page-link @(1 == Model.CurrentPage ? "activ" : "")" asp-route-currentPage="1" asp-route-pageSize="@Model.PageSize"> 1 </a>
            </li>
            <li class="page-item">
                <a class="page-link"> ... </a>
            </li>

            @if (Model.CurrentPage != 1 && Model.CurrentPage != Model.TotalPages)
            {
                <li class="page-item">
                    <a class="page-link activ" asp-route-currentPage="@Model.CurrentPage" asp-route-pageSize="@Model.PageSize"> @Model.CurrentPage </a>
                </li>
                <li class="page-item">
                    <a class="page-link"> ... </a>
                </li>
            }
            <li class="page-item">
                <a class="page-link @(Model.TotalPages == Model.CurrentPage ? "activ" : "")" asp-route-currentPage="@Model.TotalPages" asp-route-pageSize="@Model.PageSize"> @Model.TotalPages </a>
            </li>
        }
        else
        {
            @for (int i = 1; i <= Model.TotalPages; i++)
            {
                <li class="page-item">
                    <a class="page-link @(i == Model.CurrentPage ? "activ" : "")" asp-route-currentPage="@i" asp-route-pageSize="@Model.PageSize"> @i </a>
                </li>
            }
        }



        @if (Model.ShowNext)
        {
            <li class="page-item">
                <a class="page-link" asp-route-currentPage="@(Model.CurrentPage+1)" asp-route-pageSize="@Model.PageSize">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        }
    </ul>
</section>